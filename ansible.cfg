[defaults]
# General settings
nocows = True
executable = /bin/bash
stdout_callback = yaml

; File/Directory settings
log_path = ./.ansible/ansible.log

inventory = ./provision/ansible/inventory/
playbook_dir = ./provision/ansible/playbooks/

collections_path = ./.ansible/collections
roles_path = ./.ansible/roles:./provision/ansible/roles

fact_caching_connection = ./.ansible/facts_cache
cache_connection = ./.ansible/ansible_inventory

remote_tmp = /tmp
local_tmp = ./.ansible/tmp

# Fact Caching settings
fact_caching = jsonfile

; Plugin settings
vars_plugins_enabled = host_group_vars,community.sops.sops

internal_poll_interval = 0.001

[inventory]
cache = yes

[ssh_connection]
scp_if_ssh = smart
ssh_args = -o ControlMaster=auto -o ControlPersist=30m -o Compression=yes -o ServerAliveInterval=15s
pipelining = True
control_path = %(directory)s/%%h-%%r
