---
apiVersion: db.movetokube.com/v1alpha1
kind: Postgres
metadata:
  name: &app authelia
  namespace: network-system
spec:
  database: *app # db name in postgres cluster
---
apiVersion: db.movetokube.com/v1alpha1
kind: Postgres
metadata:
  name: &app glauth
  namespace: network-system
spec:
  database: *app # db name in postgres cluster
---
apiVersion: db.movetokube.com/v1alpha1
kind: Postgres
metadata:
  name: &app lldap
  namespace: network-system
spec:
  database: *app # db name in postgres cluster

---
apiVersion: db.movetokube.com/v1alpha1
kind: PostgresUser
metadata:
  name: &app authelia
  namespace: network-system
spec:
  role: *app
  database: *app # references the CR
  secretName: database
  privileges: OWNER
---
apiVersion: db.movetokube.com/v1alpha1
kind: PostgresUser
metadata:
  name: &app glauth
  namespace: network-system
spec:
  role: *app
  database: *app # references the CR
  secretName: database
  privileges: OWNER
---
apiVersion: db.movetokube.com/v1alpha1
kind: PostgresUser
metadata:
  name: &app lldap
  namespace: network-system
spec:
  role: *app
  database: *app # references the CR
  secretName: database
  privileges: OWNER
