---
apiVersion: v1
kind: ConfigMap
metadata:
  name: renovate-onboarding-config
  namespace: flux-ci
data:
  onboardingConfig: |
    {
      "enabled": true,
      "$schema": "https://docs.renovatebot.com/renovate-schema.json",
      extends: [
        'config:base',
        'docker:enableMajor',
        ':disableRateLimiting',
        ':dependencyDashboard',
        ':enablePreCommit',
        ':semanticCommits',
        ':automergeDigest',
        ':automergeBranch'
      ],
      "configWarningReuseIssue": true,
      "configMigration": true,

      "dependencyDashboard": true,
      "dependencyDashboardTitle": "Renovate Dashboard",

      rebaseWhen: 'behind-base-branch',
    }
